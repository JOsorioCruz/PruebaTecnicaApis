{
  "info": {
    "name": "Pruebas API",
    "_postman_id": "unique-id",
    "description": "",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Primera Prueba - GET Posts",
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "// Obtener la respuesta en formato JSON",
              "var jsonData = pm.response.json();",
              "",
              "// Títulos y cuerpos a validar",
              "var validations = [",
              "    {",
              "        \"title\": \"dolorum ut in voluptas mollitia et saepe quo animi\",",
              "        \"body\": \"aut dicta possimus sint mollitia voluptas commodi quo doloremque\\niste corrupti reiciendis voluptatem eius rerum\\nsit cumque quod eligendi laborum minima\\nperferendis recusandae assumenda consectetur porro architecto ipsum ipsam\"",
              "    },",
              "    {",
              "        \"title\": \"autem hic labore sunt dolores incidunt\",",
              "        \"body\": \"enim et ex nulla\\nomnis voluptas quia qui\\nvoluptatem consequatur numquam aliquam sunt\\ntotam recusandae id dignissimos aut sed asperiores deserunt\"",
              "    }",
              "];",
              "",
              "// Función para validar la presencia de títulos y cuerpos",
              "validations.forEach(function(item) {",
              "    var titleFound = jsonData.some(function(post) {",
              "        return post.title === item.title;",
              "    });",
              "",
              "    var bodyFound = jsonData.some(function(post) {",
              "        return post.body === item.body;",
              "    });",
              "",
              "    pm.test('Validar título: ' + item.title, function() {",
              "        pm.expect(titleFound).to.be.true;",
              "    });",
              "",
              "    pm.test('Validar cuerpo: ' + item.body, function() {",
              "        pm.expect(bodyFound).to.be.true;",
              "    });",
              "});"
            ],
            "type": "text/javascript"
          }
        }
      ],
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "https://jsonplaceholder.typicode.com/posts",
          "protocol": "https",
          "host": ["jsonplaceholder", "typicode", "com"],
          "path": ["posts"]
        }
      },
      "response": []
    },
    {
      "name": "Segunda Prueba - POST Users",
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "// Obtener la respuesta en formato JSON",
              "var jsonData = pm.response.json();",
              "",
              "// Validar que el nombre y el trabajo en la respuesta coinciden con los enviados",
              "pm.test('El nombre en la respuesta coincide con el enviado', function () {",
              "    pm.expect(jsonData.name).to.eql(pm.iterationData.get('name'));",
              "});",
              "",
              "pm.test('El trabajo en la respuesta coincide con el enviado', function () {",
              "    pm.expect(jsonData.job).to.eql(pm.iterationData.get('job'));",
              "});",
              "",
              "// Validar que el ID está presente en la respuesta",
              "pm.test('El ID está presente en la respuesta', function () {",
              "    pm.expect(jsonData).to.have.property('id');",
              "});"
            ],
            "type": "text/javascript"
          }
        }
      ],
      "request": {
        "method": "POST",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\n    \"name\": \"{{name}}\",\n    \"job\": \"{{job}}\"\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "https://reqres.in/api/users",
          "protocol": "https",
          "host": ["reqres", "in"],
          "path": ["api", "users"]
        }
      },
      "response": []
    }
  ]
}
